---
sidebar_position: 3
description: Whizard 多租户设计
---

# Whizard Tenant

`Whizard Tenant` 是 Whizard 中的重要概念之一，旨在实现多租户体系，以便在云计算和大数据环境中高效管理和隔离不同租户的数据和资源。

## 多租户体系

在 Whizard 中，数据接入时会为数据带上租户标签，这里的数据租户可以是一个 Kubernetes 集群的监控数据，也可以是一个 region 的物理机监控数据。通过这种方式，Whizard 能够有效地管理和隔离不同租户的数据，确保每个租户的数据独立性和安全性。

### 多租户

在云计算和大数据等领域中，多租户通常指多个租户（即多个机构或个人）共享相同的计算、存储或网络资源。多租户架构的设计需要考虑多个租户之间的互斥性、安全性、可靠性、可用性和灵活性等方面的要求。

在多租户环境中，每个租户可以拥有自己的数据和应用程序，并且可以独立地配置和管理其计算和存储资源。多租户架构的优点包括资源共享、弹性扩展、成本效益和高安全性等。

### 多租户设计的关键因素

1. **租户隔离**：确保每个租户之间的数据和应用程序不会相互干扰，同时保护每个租户的隐私和安全。
2. **资源管理**：管理每个租户所使用的资源，包括计算、存储和网络等。
3. **安全性**：确保每个租户的数据和应用程序得到适当的保护和安全。
4. **可靠性**：确保计算和存储资源的可靠性和可用性，以便及时响应租户的需求。
5. **灵活性**：支持租户的个性化需求和变化，同时易于扩展和缩减资源。

多租户设计需要根据不同的应用场景和需求进行定制化设计，以满足各种租户的需求和要求。

### 如何拆分数据租户

#### 基于聚合查询划分数据租户体系

在 Whizard 中，可以通过聚合查询来划分数据租户体系。这种方法可以有效地管理和隔离不同租户的数据，确保每个租户的数据独立性和安全性。

根据聚合查询划分租户的常见方法包括：

1. **按照数据聚合类型划分**：例如将节点监控数据按照区域、节点类型、IP 段等进行聚合查询，然后将不同的聚合类型按照需求进行划分。
2. **按照业务类型划分**：例如将金融租户与其他租户进行划分，以便更好地提供资源和服务。

在根据聚合查询划分租户时，需要考虑租户的需求和资源利用率等因素。例如，如果某个租户需要对数据进行细粒度的聚合查询，那么需要将该租户分配到能够支持细粒度聚合查询的资源池中，以确保数据的准确性和效率。如果某个租户需要对数据进行多种聚合查询，那么需要将该租户分配到能够支持多种聚合查询的资源池中，以确保数据的多种需求得到满足。

#### 基于现有租户体系同步对应数据租户体系

在某些情况下，可以基于现有的租户体系同步对应的数据租户体系。这种方法可以确保数据租户体系与现有租户体系的一致性，从而简化管理和维护工作。

总之，Whizard 的多租户设计通过有效的租户隔离、资源管理和安全性保障，确保了每个租户的数据独立性和安全性。通过灵活的租户划分方法，Whizard 能够满足不同租户的需求，提高系统的效率和质量。
