---
sidebar_position: 3
description: Whizard 多租户设计
---

# Whizard Tenant

`Whizard Tenant` 是 Whizard 中的重要概念之一，旨在实现多租户体系，以便在云计算和大数据环境中高效管理和隔离不同租户的数据和资源。

## 多租户

在 Whizard 中，数据接入时会为数据带上租户标签，这里的数据租户可以是一个 Kubernetes 集群的监控数据，也可以是一个 region 的物理机监控数据。通过这种方式，Whizard 能够有效地管理和隔离不同租户的数据，确保每个租户的数据独立性和安全性。

### 如何拆分数据租户

#### 基于聚合查询划分数据租户体系

在 Whizard 中，可以通过聚合查询来划分数据租户体系。这种方法可以有效地管理和隔离不同租户的数据，确保每个租户的数据独立性和安全性。

根据聚合查询划分租户的常见方法包括：

1. **按照数据聚合类型划分**：例如将节点监控数据按照区域、节点类型、IP 段等进行聚合查询，然后将不同的聚合类型按照需求进行划分。
2. **按照业务类型划分**：例如将金融租户与其他租户进行划分，以便更好地提供资源和服务。

在根据聚合查询划分租户时，需要考虑租户的需求和资源利用率等因素。例如，如果某个租户需要对数据进行细粒度的聚合查询，那么需要将该租户分配到能够支持细粒度聚合查询的资源池中，以确保数据的准确性和效率。如果某个租户需要对数据进行多种聚合查询，那么需要将该租户分配到能够支持多种聚合查询的资源池中，以确保数据的多种需求得到满足。

#### 基于现有租户体系同步对应数据租户体系

在某些情况下，可以基于现有的租户体系同步对应的数据租户体系。这种方法可以确保数据租户体系与现有租户体系的一致性，从而简化管理和维护工作。

总之，Whizard 的多租户设计通过有效的租户隔离、资源管理和安全性保障，确保了每个租户的数据独立性和安全性。通过灵活的租户划分方法，Whizard 能够满足不同租户的需求，提高系统的效率和质量。

## Tenant CRD 定义

参见 [TenantSpec](https://whizardtelemetry.github.io/docs/whizard-docs/references/api/api.md)
