"use strict";(self.webpackChunkwhizardtelemetry_github_io=self.webpackChunkwhizardtelemetry_github_io||[]).push([[8939],{6475:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var r=t(4848),i=t(8453);const o={sidebar_position:4,description:"Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d"},s="Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d",a={id:"guide/volumemount",title:"Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d",description:"Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d",source:"@site/whizard-docs/guide/volumemount.md",sourceDirName:"guide",slug:"/guide/volumemount",permalink:"/whizard-docs/guide/volumemount",draft:!1,unlisted:!1,editUrl:"https://github.com/WhizardTelemetry/whizardtelemetry.github.io/tree/main/whizard-docs/whizard-docs/guide/volumemount.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,description:"Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d"},sidebar:"tutorialSidebar",previous:{title:"Whizard \u7ec4\u4ef6\u8d44\u6e90\u914d\u989d\u63a8\u8350",permalink:"/whizard-docs/guide/resourcequota"},next:{title:"Store \u57fa\u4e8e\u65f6\u95f4\u5206\u7247\u8fdb\u884c\u6269\u5c55",permalink:"/whizard-docs/guide/store-partition"}},d={},l=[{value:"\u4f7f\u7528\u52a8\u6001\u52a8\u6001\u5b58\u50a8\u5377",id:"\u4f7f\u7528\u52a8\u6001\u52a8\u6001\u5b58\u50a8\u5377",level:2},{value:"\u4f7f\u7528\u9759\u6001\u5b58\u50a8\u5377",id:"\u4f7f\u7528\u9759\u6001\u5b58\u50a8\u5377",level:2}];function c(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"whizard-\u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d",children:"Whizard \u672c\u5730\u6301\u4e45\u5377\u6302\u8f7d"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6ce8\uff1a \u6301\u4e45\u5377\u6302\u8f7d\u914d\u7f6e\u4ea6\u53ef\u53c2\u8003 ",(0,r.jsx)(n.a,{href:"https://github.com/prometheus-operator/prometheus-operator/blob/main/Documentation/user-guides/storage.md",children:"prometheus-operator storage"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cWhizard \u4f1a\u4e3a Ingester\u3001Store\u3001Compactor \u7b49\u7ec4\u4ef6\u914d\u7f6e\u6301\u4e45\u5377\u6302\u8f7d\uff0c\u5e76\u4f7f\u7528\u9ed8\u8ba4\u7684 StorageClass \u52a8\u6001\u521b\u5efa\u3002"})}),"\n",(0,r.jsx)(n.p,{children:"Kubernetes \u652f\u6301\u591a\u79cd\u5b58\u50a8\u5377\u3002Prometheus Operator \u4e0e PersistentVolumeClaims \u4e00\u8d77\u5de5\u4f5c\uff0c\u5b83\u652f\u6301\u5728\u8bf7\u6c42\u65f6\u914d\u7f6e\u5e95\u5c42 PersistentVolume\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u672c\u6587\u6863\u5047\u8bbe\u60a8\u5bf9 PersistentVolumes\u3001PersistentVolumeClaims \u53ca\u5176\xa0",(0,r.jsx)(n.a,{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/#provisioning",children:"provisioning"})," \u6709\u57fa\u672c\u7684\u4e86\u89e3\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528\u52a8\u6001\u52a8\u6001\u5b58\u50a8\u5377",children:"\u4f7f\u7528\u52a8\u6001\u52a8\u6001\u5b58\u50a8\u5377"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: monitoring.whizard.io/v1alpha1\nkind: Ingester\nmetadata:\n  name: whizard\nspec:\n  dataVolume:\n    volumeClaimTemplate:\n      spec:\n        resources:\n          requests:\n            storage: 40Gi\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4f7f\u7528\u9759\u6001\u5b58\u50a8\u5377",children:"\u4f7f\u7528\u9759\u6001\u5b58\u50a8\u5377"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: monitoring.whizard.io/v1alpha1\nkind: Ingester\nmetadata:\n  name: whizard\nspec:\n  dataVolume:\n    volumeClaimTemplate:\n      spec:\n        selector:\n          matchLabels:\n            app.kubernetes.io/name: my-example-ingester\n        resources:\n          requests:\n            storage: 50Gi\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["\u6ce8:  whizard v0.6.1 \u4ee5\u4e0b\u7248\u672c\u914d\u7f6e\u6587\u4ef6\u4e2d\u6682\u4e0d\u652f\u6301\u53d8\u91cf\u4e2d\u5b58\u5728 ",(0,r.jsx)(n.code,{children:"."})]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var r=t(6540);const i={},o=r.createContext(i);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);